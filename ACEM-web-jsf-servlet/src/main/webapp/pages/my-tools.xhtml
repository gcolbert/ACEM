<?xml version="1.0" encoding="UTF-8" ?>
<ui:composition xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:e="http://commons.esup-portail.org"
	template="../templates/template.xhtml">
	<f:metadata>
		<f:viewParam name="toolCategoryId"
			value="#{resourcesController.selectedToolCategoryId}" />
	</f:metadata>
	<ui:define name="content">
		<ui:debug hotkey="1"
			rendered="#{facesContext.application.projectStage == 'Development'}" />

		<h:form id="formResources">
			<p:panel header="#{msgs['RESOURCES.TREE.HEADER']}">

				<p:growl id="messagesDisplayer" showDetail="true" />

				<p:panelGrid styleClass="menu" columns="5">
					<p:commandLink styleClass="menu-entry"
						action="#{resourcesController.prepareToolCategoryTreeForResourceType('equipment')}"
						update=":formResources:resourcesTree">
						<h:graphicImage
							url="resources/images/my-tools/my-tools.equipments.png"
							alt="#{msgs['RESOURCES.TREE.VISIBLE_ROOTS.EQUIPMENT.LABEL']}"
							styleClass="menu-entry-image" />
						<span class="menu-entry-text"><h:outputText
								value="#{msgs['RESOURCES.TREE.VISIBLE_ROOTS.EQUIPMENT.LABEL']}" /></span>
					</p:commandLink>
					<p:commandLink styleClass="menu-entry"
						action="#{resourcesController.prepareToolCategoryTreeForResourceType('software')}"
						update=":formResources:resourcesTree">
						<h:graphicImage
							url="resources/images/my-tools/my-tools.softwares.png"
							alt="#{msgs['RESOURCES.TREE.VISIBLE_ROOTS.SOFTWARE.LABEL']}"
							styleClass="menu-entry-image" />
						<span class="menu-entry-text"><h:outputText
								value="#{msgs['RESOURCES.TREE.VISIBLE_ROOTS.SOFTWARE.LABEL']}" /></span>
					</p:commandLink>
					<p:commandLink styleClass="menu-entry"
						action="#{resourcesController.prepareToolCategoryTreeForResourceType('softwareDocumentation')}"
						update=":formResources:resourcesTree">
						<h:graphicImage
							url="resources/images/my-tools/my-tools.software-documentations.png"
							alt="#{msgs['RESOURCES.TREE.VISIBLE_ROOTS.SOFTWARE_DOCUMENTATION.LABEL']}"
							styleClass="menu-entry-image" />
						<span class="menu-entry-text"><h:outputText
								value="#{msgs['RESOURCES.TREE.VISIBLE_ROOTS.SOFTWARE_DOCUMENTATION.LABEL']}" /></span>
					</p:commandLink>
					<p:commandLink styleClass="menu-entry"
						action="#{resourcesController.prepareToolCategoryTreeForResourceType('pedagogicalAndDocumentaryResources')}"
						update=":formResources:resourcesTree">
						<h:graphicImage
							url="resources/images/my-tools/my-tools.pedagogical-and-documentary-resources.png"
							alt="#{msgs['RESOURCES.TREE.VISIBLE_ROOTS.PEDAGOGICAL_AND_DOCUMENTARY_RESOURCES.LABEL']}"
							styleClass="menu-entry-image" />
						<span class="menu-entry-text"><h:outputText
								value="#{msgs['RESOURCES.TREE.VISIBLE_ROOTS.PEDAGOGICAL_AND_DOCUMENTARY_RESOURCES.LABEL']}" /></span>
					</p:commandLink>
					<p:commandLink styleClass="menu-entry"
						action="#{resourcesController.prepareToolCategoryTreeForResourceType('professionalTraining')}"
						update=":formResources:resourcesTree">
						<h:graphicImage
							url="resources/images/my-tools/my-tools.professional-trainings.png"
							alt="#{msgs['RESOURCES.TREE.VISIBLE_ROOTS.PROFESSIONAL_TRAININGS.LABEL']}"
							styleClass="menu-entry-image" />
						<span class="menu-entry-text"><h:outputText
								value="#{msgs['RESOURCES.TREE.VISIBLE_ROOTS.PROFESSIONAL_TRAININGS.LABEL']}" /></span>
					</p:commandLink>
				</p:panelGrid>

				<p:tree id="resourcesTree" dynamic="true"
					datakey="#{treeNodeData.id}"
					value="#{resourcesController.resourcesTreeRoot}" var="treeNodeData"
					selectionMode="single"
					onNodeClick="if ( (node.attr('data-nodetype')!='default') &amp;&amp; (node.attr('data-nodetype')!='category') ) { history.pushState('','','my-tools?toolCategoryId='+node.attr('data-datakey')); }"
					selection="#{resourcesController.selectedNode}">
					<p:ajax event="select"
						oncomplete="PrimeFaces.scrollTo('formSelectedToolCategory:selectedToolCategoryOutputPanel')"
						update=":formSelectedToolCategory:selectedToolCategoryOutputPanel :formResources:messagesDisplayer"
						listener="#{resourcesController.onNodeSelect}" />
					<p:treeNode type="default" styleClass="#{treeNodeData.styleClass}">
						<h:outputText value="#{treeNodeData.label}" />
					</p:treeNode>
					<p:treeNode type="CategoryNode"
						styleClass="#{treeNodeData.styleClass}">
						<h:outputText value="#{treeNodeData.label}" />
					</p:treeNode>
				</p:tree>
			</p:panel>
		</h:form>

		<h:form id="formSelectedToolCategory">
			<p:outputPanel id="selectedToolCategoryOutputPanel">
				<p:panel
					header="#{msgs['RESOURCES.SELECTED_RESOURCE_CATEGORY.HEADER']}"
					id="selectedToolCategoryPanel"
					rendered="#{resourcesController.selectedToolCategoryViewBean != null}">
					<p:panelGrid columns="1">
						<h:outputText styleClass="title"
							value="#{resourcesController.selectedToolCategoryViewBean.name}" />

						<p:panelGrid columns="2">
							<p:graphicImage id="toolCategoryIcon"
								rendered="#{not empty resourcesController.selectedToolCategoryViewBean.iconFileName}"
								styleClass="resourceLogo"
								alt="#{resourcesController.selectedToolCategoryViewBean.name}"
								cache="false" width="80" value="#{imagesController.getImage()}">
								<f:param name="imageFileName"
									value="#{resourcesController.selectedToolCategoryViewBean.iconFileName}" />
							</p:graphicImage>
							<p:column>
								<p:row>
									<p:inplace id="selectedToolCategoryDescription" editor="true">
										<p:ajax event="save"
											listener="#{resourcesController.onSelectedToolCategorySave}"
											update="@this" />
										<p:ajax event="cancel" update="@this" />
										<h:inputText id="selectedScenarioName"
											value="#{resourcesController.selectedToolCategoryViewBean.description}"
											required="true" requiredMessage="#{msgs['REQUIRED_FIELD']}" />
									</p:inplace>
								</p:row>
								<p:row>
									<h:panelGroup styleClass="favoriteToolCategory">
										<p:outputLabel for="favoriteToolCategoryCheckbox"
											value="#{msgs['RESOURCES.SELECTED_RESOURCE_CATEGORY.ADD_TO_MY_FAVORITE_TOOLS']}" />
										<p:selectBooleanCheckbox id="favoriteToolCategoryCheckbox"
											styleClass="favoriteToolCategoryCheckbox"
											value="#{resourcesController.selectedToolCategoryViewBean.favoriteToolCategory}">
											<p:ajax
												update="@this :formSelectedToolCategory:favoriteToolCategoriesPanel :formResources:messagesDisplayer"
												listener="#{usersController.toggleFavoriteToolCategoryForCurrentUser(resourcesController.selectedToolCategoryViewBean)}" />
										</p:selectBooleanCheckbox>
									</h:panelGroup>
								</p:row>
							</p:column>
						</p:panelGrid>

						<p:dataTable id="toolsDataTable" var="toolViewBean"
							value="#{resourcesController.selectedToolCategoryViewBean.resourceViewBeans}"
							selectionMode="single"
							selection="#{resourcesController.selectedResourceViewBean}"
							rowKey="#{toolViewBean.id}">
							<p:ajax event="rowSelect"
								listener="#{resourcesController.onToolRowSelect}"
								update=":formSelectedToolCategory:idModifyToolButton" />
							<p:column
								headerText="#{msgs['RESOURCES.SELECTED_RESOURCE_CATEGORY.TOOLS.COLUMN_HEADER.TOOL_NAME']}">
								<h:outputText value="#{toolViewBean.name}" />
								<p:graphicImage id="resourceIcon"
									rendered="#{not empty toolViewBean.iconFileName}"
									styleClass="resourceLogo" alt="#{toolViewBean.name}"
									cache="false" width="40" value="#{imagesController.getImage()}">
									<f:param name="imageFileName"
										value="#{toolViewBean.iconFileName}" />
								</p:graphicImage>
							</p:column>
							<p:column
								headerText="#{msgs['RESOURCES.SELECTED_RESOURCE_CATEGORY.TOOLS.COLUMN_HEADER.ORGANISATION_NAME']}">
								<h:link id="goToSupportServiceBtn" outcome="my-services" rendered="#{toolViewBean.organisationPossessingResourceViewBean != null}">
									<f:param name="serviceId" value="#{toolViewBean.organisationPossessingResourceViewBean.id}" />
									<h:outputText
										value="#{toolViewBean.organisationPossessingResourceViewBean.name}" />
									<h:outputText styleClass="ui-icon ui-icon-arrowthickstop-1-e"
										style="display:inline-block; vertical-align:middle;" />
									<p:tooltip
										value="#{msgs['RESOURCES.SELECTED_RESOURCE_CATEGORY.TOOLS.GO_TO_TOOL_SUPPORT_SERVICE']}"
										for="goToSupportServiceBtn" />
								</h:link>
							</p:column>
							<p:column>
							</p:column>
						</p:dataTable>
						<p:row>
							<p:commandButton
								value="#{msgs['RESOURCES.CREATE_RESOURCE_LABEL']}"
								icon="ui-icon-plusthick" update=":idDialogCreateResource"
								oncomplete="PF('dialogCreateResource').show()">
								<p:resetInput target=":idDialogCreateResource" />
							</p:commandButton>
							<p:commandButton id="idModifyToolButton"
								value="#{msgs['RESOURCES.MODIFY_RESOURCE_LABEL']}"
								icon="ui-icon-pencil" update=":idDialogModifyResource"
								oncomplete="PF('dialogModifyResource').show()"
								disabled="#{resourcesController.selectedResourceViewBean == null}">
								<p:resetInput target=":idDialogModifyResource" />
							</p:commandButton>
						</p:row>

						<p:outputLabel
							value="#{msgs['RESOURCES.SELECTED_RESOURCE_CATEGORY.ASSOCIATED_PEDAGOGICAL_ADVICE_LABEL']}"
							for="pedagogicalUsesTree" />
						<p:tree id="pedagogicalUsesTree" dynamic="true"
							value="#{resourcesController.pedagogicalUsesTreeRoot}"
							var="treeNodeData">
							<p:treeNode type="default"
								styleClass="#{treeNodeData.styleClass}">
								<h:outputText value="#{treeNodeData.label}" />
							</p:treeNode>
							<p:treeNode type="#{resourcesController.treeNodeType_NEED_LEAF}"
								styleClass="#{treeNodeData.styleClass}">
								<h:outputText value="#{treeNodeData.label}" />
							</p:treeNode>
							<p:treeNode
								type="resourcesController.treeNodeType_NEED_WITH_ASSOCIATED_NEEDS}"
								styleClass="#{treeNodeData.styleClass}">
								<h:outputText value="#{treeNodeData.label}" />
							</p:treeNode>
							<p:treeNode
								type="#{resourcesController.treeNodeType_NEED_WITH_ASSOCIATED_ANSWERS}"
								styleClass="#{treeNodeData.styleClass}">
								<h:outputText value="#{treeNodeData.label}" />
							</p:treeNode>
							<p:treeNode
								type="#{resourcesController.treeNodeType_ANSWER_LEAF}"
								styleClass="#{treeNodeData.styleClass}">
								<h:outputText value="#{treeNodeData.label}" />
							</p:treeNode>
						</p:tree>

						<p:outputLabel
							value="#{msgs['RESOURCES.SELECTED_RESOURCE_CATEGORY.SCENARIOS_USING_SELECTED_TOOL_CATEGORY_LABEL']}"
							for="scenariosUsingSelectedToolCategoryTable" />

						<p:dataTable id="scenariosUsingSelectedToolCategoryTable"
							value="#{resourcesController.scenariosUsingSelectedToolCategory}"
							var="scenario">
							<p:column
								headerText="#{msgs['RESOURCES.SELECTED_RESOURCE_CATEGORY.SCENARIOS.COLUMNS.TITLE']}">
								<h:outputText value="#{scenario.name}" />
							</p:column>
							<p:column
								headerText="#{msgs['RESOURCES.SELECTED_RESOURCE_CATEGORY.SCENARIOS.COLUMNS.OBJECTIVE']}">
								<h:outputText value="#{scenario.objective}" />
							</p:column>
							<p:column
								headerText="#{msgs['RESOURCES.SELECTED_RESOURCE_CATEGORY.SCENARIOS.COLUMNS.AUTHOR']}">
								<h:outputText value="#{scenario.author}" />
							</p:column>
						</p:dataTable>

					</p:panelGrid>
				</p:panel>
			</p:outputPanel>

			<p:panelGrid styleClass="bottom-toolboxes">
				<p:row>
					<p:column>
						<p:panel id="favoriteToolCategoriesPanel"
							header="#{msgs['RESOURCES.MY_FAVORITE_TOOL_CATEGORIES.HEADER']}">
							<ui:repeat id="favoriteToolCategories"
								value="#{sessionController.currentUserViewBean.favoriteToolCategoryViewBeans}"
								var="toolCategoryViewBean">
								<h:outputLink id="goToToolCategoryBtn" outcome="my-tools">
									<f:param name="toolCategoryId"
										value="#{toolCategoryViewBean.id}" />
									<h:outputText value="#{toolCategoryViewBean.name}"
										rendered="#{empty toolCategoryViewBean.iconFileName}" />
									<p:graphicImage id="favoriteToolCategoryIcon"
										rendered="#{not empty toolCategoryViewBean.iconFileName}"
										styleClass="toolCategoryLogo"
										alt="#{toolCategoryViewBean.name}" cache="false" width="50"
										value="#{imagesController.getImage()}">
										<f:param name="imageFileName"
											value="#{toolCategoryViewBean.iconFileName}" />
									</p:graphicImage>
								</h:outputLink>
								<p:tooltip for="goToToolCategoryBtn"
									value="#{toolCategoryViewBean.name}" />
							</ui:repeat>
						</p:panel>
					</p:column>
					<!-- 
					<p:column>
						<p:panel
							header="#{msgs['RESOURCES.LAST_VIEWED_TOOL_CATEGORIES.HEADER']}">
						</p:panel>
					</p:column>
					 -->
				</p:row>
			</p:panelGrid>

		</h:form>

		<p:dialog id="idDialogCreateResource"
			header="#{msgs['RESOURCES.CREATE_RESOURCE_MODAL_WINDOW.HEADER']}"
			widgetVar="dialogCreateResource" modal="true" height="auto">
			<h:form id="formCreateResource">
				<p:panelGrid>
					<p:row>
						<p:column>
							<h:outputLabel for="categoryForTheNewResource"
								value="#{msgs['RESOURCES.CREATE_RESOURCE_MODAL_WINDOW.CATEGORY_LABEL']}" />
						</p:column>
						<p:column colspan="2">
							<h:outputText id="categoryForTheNewResource"
								value="#{resourcesController.selectedToolCategoryViewBean.name}" />
						</p:column>
					</p:row>

					<p:row>
						<p:column>
							<h:outputLabel for="nameForTheNewResource"
								value="#{msgs['RESOURCES.CREATE_RESOURCE_MODAL_WINDOW.NAME_LABEL']}" />
						</p:column>
						<p:column>
							<p:inputText id="nameForTheNewResource" required="true"
								requiredMessage="#{msgs['REQUIRED_FIELD']}" size="50"
								binding="#{input1}" />
						</p:column>
						<p:column>
							<p:message for="nameForTheNewResource" display="text" />
						</p:column>
					</p:row>

					<p:row>
						<p:column>
							<h:outputLabel
								value="#{msgs['RESOURCES.CREATE_RESOURCE_MODAL_WINDOW.ICON_LABEL']}"
								for="iconForTheNewResource" />
						</p:column>
						<p:column colspan="2">
							<p:fileUpload fileUploadListener="#{fileUploadController.upload}"
								sizeLimit="300000" label="#{msgs['FILEUPLOAD.CHOOSE_LABEL']}"
								uploadLabel="#{msgs['FILEUPLOAD.UPLOAD_LABEL']}"
								cancelLabel="#{msgs['FILEUPLOAD.CANCEL_LABEL']}" fileLimit="1"
								allowTypes="/(\.|\/)(gif|jpe?g|png)$/" process="@this"
								update="iconForTheNewResource :formResources:messagesDisplayer" />
							<p:panel id="iconForTheNewResource">
								<!-- 
								<p:graphicImage
									rendered="#{(not empty resourcesController.selectedResourceViewBean.iconFileName) and (empty fileUploadController.uploadedFileName)}"
									alt="#{resourcesController.selectedResourceViewBean.name}"
									cache="false" width="200" value="#{imagesController.image}">
									<f:param name="imageFileName"
										value="#{resourcesController.selectedResourceViewBean.iconFileName}" />
								</p:graphicImage>
								 -->
								<p:graphicImage
									rendered="#{not empty fileUploadController.uploadedFileName}"
									alt="#{resourcesController.selectedResourceViewBean.name}"
									cache="false" width="200" value="#{imagesController.image}">
									<f:param name="imageFileName"
										value="#{fileUploadController.uploadedFileName}" />
								</p:graphicImage>
							</p:panel>
						</p:column>
					</p:row>

					<!-- 
					<p:row>
						<p:column>
							<h:outputLabel for="supportServiceForTheNewResource"
								value="#{msgs['RESOURCES.CREATE_RESOURCE_MODAL_WINDOW.SUPPORT_SERVICE_LABEL']}" />
						</p:column>
						<p:column>
							<p:selectOneMenu id="supportServiceForTheNewResource" required="true"
								requiredMessage="#{msgs['REQUIRED_FIELD']}" editable="false"
								binding="#{input2}" converter="OrganisationConverter">
								<f:selectItem
									itemLabel="#{msgs['RESOURCES.MODIFY_RESOURCE_MODAL_WINDOW.SELECT_SUPPORT_SERVICE']}"
									itemValue="" itemDisabled="true" noSelectionOption="true" />
								<f:selectItems
									value="#{resourcesController.allOrganisationViewBeans}"
									var="organisationViewBean" itemLabel="#{organisationViewBean.name}"
									itemValue="#{organisationViewBean.domainBean}" />
							</p:selectOneMenu>
						</p:column>
						<p:column>
							<p:message for="supportServiceForTheNewResource" display="text" />
						</p:column>
					</p:row>
					 -->

				</p:panelGrid>
				<p:commandButton styleClass="dialogValidationButton"
					value="#{msgs['RESOURCES.CREATE_RESOURCE_MODAL_WINDOW.VALIDATE']}"
					icon="ui-icon-check" validateClient="true"
					action="#{resourcesController.onCreateResource(input1.value, input2.value, fileUploadController.uploadedFileName)}"
					process="@this" update="@this"
					oncomplete="if (args &amp;&amp; !args.validationFailed) { dialogCreateResource.hide(); }" />
			</h:form>
		</p:dialog>

		<p:dialog id="idDialogModifyResource"
			header="#{msgs['RESOURCES.MODIFY_RESOURCE_MODAL_WINDOW.HEADER']}"
			widgetVar="dialogModifyResource" modal="true" height="auto">
			<h:form id="formModifyResource">
				<p:panelGrid
					rendered="#{resourcesController.selectedResourceViewBean != null}">
					<p:row>
						<p:column>
							<h:outputLabel for="categoryForTheExistingResource"
								value="#{msgs['RESOURCES.MODIFY_RESOURCE_MODAL_WINDOW.CATEGORY_LABEL']}" />
						</p:column>
						<p:column colspan="2">
							<h:outputText id="categoryForTheExistingResource"
								value="#{resourcesController.selectedToolCategoryViewBean.name}" />
						</p:column>
					</p:row>

					<p:row>
						<p:column>
							<h:outputLabel for="nameForTheExistingResource"
								value="#{msgs['RESOURCES.MODIFY_RESOURCE_MODAL_WINDOW.NAME_LABEL']}" />
						</p:column>
						<p:column>
							<p:inputText id="nameForTheExistingResource" required="true"
								value="#{resourcesController.selectedResourceViewBean.name}"
								requiredMessage="#{msgs['REQUIRED_FIELD']}" size="50"
								binding="#{input3}" />
						</p:column>
						<p:column>
							<p:message for="nameForTheExistingResource" display="text" />
						</p:column>
					</p:row>

					<p:row>
						<p:column>
							<h:outputLabel
								value="#{msgs['RESOURCES.MODIFY_RESOURCE_MODAL_WINDOW.ICON_LABEL']}"
								for="iconForTheExistingResource" />
						</p:column>
						<p:column colspan="2">
							<p:fileUpload fileUploadListener="#{fileUploadController.upload}"
								sizeLimit="300000" label="#{msgs['FILEUPLOAD.CHOOSE_LABEL']}"
								uploadLabel="#{msgs['FILEUPLOAD.UPLOAD_LABEL']}"
								cancelLabel="#{msgs['FILEUPLOAD.CANCEL_LABEL']}" fileLimit="1"
								allowTypes="/(\.|\/)(gif|jpe?g|png)$/" process="@this"
								update="iconForTheExistingResource :formResources:messagesDisplayer" />
							<p:panel id="iconForTheExistingResource">
								<p:graphicImage
									rendered="#{(not empty resourcesController.selectedResourceViewBean.iconFileName) and (empty fileUploadController.uploadedFileName)}"
									alt="#{resourcesController.selectedResourceViewBean.name}"
									cache="false" width="200" value="#{imagesController.image}">
									<f:param name="imageFileName"
										value="#{resourcesController.selectedResourceViewBean.iconFileName}" />
								</p:graphicImage>
								<p:graphicImage
									rendered="#{not empty fileUploadController.uploadedFileName}"
									alt="#{resourcesController.selectedResourceViewBean.name}"
									cache="false" width="200" value="#{imagesController.image}">
									<f:param name="imageFileName"
										value="#{fileUploadController.uploadedFileName}" />
								</p:graphicImage>
							</p:panel>
						</p:column>
					</p:row>

					<p:row>
						<p:column>
							<h:outputLabel for="supportServiceForTheExistingResource"
								value="#{msgs['RESOURCES.MODIFY_RESOURCE_MODAL_WINDOW.SUPPORT_SERVICE_LABEL']}" />
						</p:column>
						<p:column colspan="2">
							<p:selectOneMenu id="supportServiceForTheExistingResource"
								required="true" requiredMessage="#{msgs['REQUIRED_FIELD']}"
								editable="false" immediate="true"
								value="#{resourcesController.selectedResourceViewBean.organisationPossessingResourceViewBean}" 
								converter="OrganisationConverter">
								<f:selectItem
									itemLabel="#{msgs['RESOURCES.MODIFY_RESOURCE_MODAL_WINDOW.SELECT_SUPPORT_SERVICE']}"
									itemValue="" itemDisabled="true" noSelectionOption="true" />
								<f:selectItems
									value="#{resourcesController.allOrganisationViewBeansAsList}"
									var="organisationViewBean"
									itemLabel="#{organisationViewBean.name}"
									itemValue="#{organisationViewBean}" />
							</p:selectOneMenu>
						</p:column>
					</p:row>
					<!-- 
					<p:row>
						<p:column>
							<h:outputLabel for="useModeForTheExistingResource"
								value="#{msgs['RESOURCES.MODIFY_RESOURCE_MODAL_WINDOW.USE_MODE_LABEL']}" />
						</p:column>
						<p:column colspan="2">
							<p:editor id="useModeForTheExistingResource"
									value="#{resourcesController.selectedResourceViewBean.useModeViewBeans}"
									controls="bold bullets numbering undo redo link unlink">
							</p:editor>
						</p:column>
					</p:row>
					 -->

				</p:panelGrid>

				<p:commandButton styleClass="dialogValidationButton"
					value="#{msgs['RESOURCES.MODIFY_RESOURCE_MODAL_WINDOW.VALIDATE']}"
					icon="ui-icon-check" validateClient="true"
					action="#{resourcesController.onModifySelectedResource(fileUploadController.uploadedFileName)}"
					process="@form" update="@this :formSelectedToolCategory:toolsDataTable :formResources:messagesDisplayer"
					oncomplete="if (args &amp;&amp; !args.validationFailed) { dialogModifyResource.hide(); }" />
			</h:form>
		</p:dialog>

		<p:dialog id="dialogAssociateUseModeId"
			header="#{msgs['RESOURCES.ASSOCIATE_USE_MODE_MODAL_WINDOW.HEADER']}"
			widgetVar="dialogAssociateUseMode" modal="true" height="auto">
			<h:form id="formAssociateUseMode">

			</h:form>
		</p:dialog>

	</ui:define>
</ui:composition>