<?xml version="1.0" encoding="UTF-8" ?>

<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd">

	<!-- /properties/web/controllers.xml This file declares the visual beans 
		used by the web interface. It should not be modified but by the developers. 
		This file is referenced by /properties/applicationContext.xml. -->

	<bean id="sessionController" class="eu.ueb.acem.web.controllers.SessionController"
		parent="abstractDomainAwareBean" scope="session">
		<description>
			A bean to store the context of the application.
		</description>
	</bean>

	<bean id="abstractContextAwareController" abstract="true"
		parent="abstractDomainAwareBean" scope="session">
		<description>
			An abstract bean to factorize the declaration of beans of
			which class inherits from AbstractContextAwareController.
		</description>
		<property name="sessionController" ref="sessionController">
			<description>The session controller.</description>
		</property>
	</bean>

    <bean 
    	id="abstractDomainAwareBean"
    	class="eu.ueb.acem.web.controllers.AbstractDomainAwareBean"
    	abstract="true">
    	<description>
			An abstract bean to factorize the declaration of beans of which 
			class inherits from AbstractDomainAwareBean.
    	</description>
		<property name="domainService" ref="domainService" />
    </bean>

	<bean id="needsAndAnswersController"
		class="eu.ueb.acem.web.controllers.NeedsAndAnswersController"
		parent="abstractContextAwareController">
		<description>A controller for the "Needs and answers" page.</description>
	</bean>

	<bean id="myScenariosController" class="eu.ueb.acem.web.controllers.MyScenariosController"
		parent="abstractContextAwareController">
		<description>A controller for the "My scenarios" page.</description>
	</bean>

	<bean id="resourcesController" class="eu.ueb.acem.web.controllers.ResourcesController"
		parent="abstractContextAwareController">
		<description>A controller for the "My tools" page.</description>
	</bean>

	<bean id="usersController" class="eu.ueb.acem.web.controllers.UsersController"
		parent="abstractContextAwareController">
		<description>A controller for administering the users from the "administration" page.</description>
	</bean>

	<bean id="organisationsController" class="eu.ueb.acem.web.controllers.OrganisationsController"
		parent="abstractContextAwareController">
		<description>A controller for administering the organisations from the "administration" page.</description>
	</bean>

	<bean id="fileUploadController" class="eu.ueb.acem.web.controllers.FileUploadController"
		parent="abstractContextAwareController">
		<description>A controller to upload files.</description>
		<property name="localPathToUploadFolder" value="${upload.localPathToUploadFolder}"></property>
	</bean>

	<bean id="imagesController" class="eu.ueb.acem.web.controllers.ImagesController"
		parent="abstractContextAwareController">
		<description>A controller to handle images.</description>
		<property name="localPathToImagesFolder" value="${upload.localPathToUploadFolder}"></property>
	</bean>

</beans>
